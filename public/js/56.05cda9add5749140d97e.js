(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{1467:function(e,t,r){"use strict";r.r(t);var n=r(0);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={name:"comprobanteElectronico",created:function(){this.getInvoiceByType({types:[4]}),this.CHANGE_SUBMIT_STATUS(!1)},data:function(){return{fields:[{key:"user.full_name",label:"Usuario"},{key:"vehicle.car_plate",label:"Vehiculo"},{key:"number",label:"Número factura"},{key:"type_document_id",label:"Tipo de factura"},{key:"resolution_number",label:"Resolución"},{key:"notes",label:"Notas"},{key:"estado",label:"Estado"},{key:"actions",label:"Acciones"}]}},methods:o(o(o({},Object(n.d)(["CHANGE_SUBMIT_STATUS"])),Object(n.b)("invoices",["getInvoiceByType","emitCreditNote"])),{},{modalConfirmEmitInvoice:function(e){var t=this;this.$bvModal.msgBoxConfirm("¿Está seguro de emitir la factura?",{size:"sm",buttonSize:"sm",okVariant:"success",okTitle:"Emitir",cancelTitle:"Cancelar",cancelVariant:"outline-danger",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(r){r&&(t.CHANGE_SUBMIT_STATUS(!0),t.emitCreditNote(e).then((function(e){openNotification("Hecho",e),t.CHANGE_SUBMIT_STATUS(!1)})).catch((function(e){openNotification("Error",e,"danger"),t.CHANGE_SUBMIT_STATUS(!1)})))}))}}),computed:o(o(o({},Object(n.e)(["errorMessages","submitStatus"])),Object(n.c)("electronicBilling",["typeOrganization"])),Object(n.e)("invoices",["invoices"])),filters:{typeDocument:function(e){var t;return 1==e?t="Factura de Venta Nacional":12==e&&(t="Factura electrónica de Venta - tipo 04"),t}}},s=r(2),l=Object(s.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("div",{staticClass:"text-right"},[r("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"notas-credito-registrar"}}},[e._v("Registrar nota credito")])],1),e._v(" "),e.errorMessages.length?r("div",{staticClass:"mt-4"},[r("card-error-validation")],1):e._e(),e._v(" "),r("b-overlay",{attrs:{show:e.submitStatus,rounded:"sm"}},[r("b-card",{staticClass:"mt-4",attrs:{title:"Lista de facturas"}},[r("b-table",{attrs:{striped:"",hover:"",responsive:"",fields:e.fields,items:e.invoices},scopedSlots:e._u([{key:"cell(type_document_id)",fn:function(t){return[e._v("\n          "+e._s(e._f("typeDocument")(t.item.type_document_id))+"\n        ")]}},{key:"cell(actions)",fn:function(t){return[2==t.item.status?[r("b-button",{attrs:{size:"xs",variant:"success"},on:{click:function(r){return e.modalConfirmEmitInvoice(t.item.id)}}},[e._v("\n              Emitir\n            ")]),e._v(" "),r("a",{staticClass:"btn btn-outline-dark btn-xs",attrs:{href:"http://127.0.0.1:8000/storage/"+t.item.file,download:""}},[e._v("Descargar")])]:e._e()]}}])})],1)],1)],1)}),[],!1,null,"d744e0d4",null);t.default=l.exports}}]);