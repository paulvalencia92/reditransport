(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{1468:function(e,t,n){"use strict";n.r(t);var r=n(0);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={name:"comprobanteElectronico",created:function(){this.getInvoiceByType({types:[5]}),this.CHANGE_SUBMIT_STATUS(!1)},data:function(){return{fields:[{key:"user.full_name",label:"Usuario"},{key:"vehicle.car_plate",label:"Vehiculo"},{key:"number",label:"Número factura"},{key:"type_document_id",label:"Tipo de factura"},{key:"resolution_number",label:"Resolución"},{key:"notes",label:"Notas"},{key:"estado",label:"Estado"},{key:"actions",label:"Acciones"}]}},methods:o(o(o({},Object(r.d)(["CHANGE_SUBMIT_STATUS"])),Object(r.b)("invoices",["getInvoiceByType","emitDebitNote"])),{},{modalConfirmEmitInvoice:function(e){var t=this;this.$bvModal.msgBoxConfirm("¿Está seguro de emitir la factura?",{size:"sm",buttonSize:"sm",okVariant:"success",okTitle:"Emitir",cancelTitle:"Cancelar",cancelVariant:"outline-danger",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(n){n&&(t.CHANGE_SUBMIT_STATUS(!0),t.emitDebitNote(e).then((function(e){openNotification("Hecho",e),t.CHANGE_SUBMIT_STATUS(!1)})).catch((function(e){openNotification("Error",e,"danger"),t.CHANGE_SUBMIT_STATUS(!1)})))}))}}),computed:o(o(o({},Object(r.e)(["errorMessages","submitStatus"])),Object(r.c)("electronicBilling",["typeOrganization"])),Object(r.e)("invoices",["invoices"])),filters:{typeDocument:function(e){var t;return 1==e?t="Factura de Venta Nacional":12==e&&(t="Factura electrónica de Venta - tipo 04"),t}}},s=n(2),l=Object(s.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",{staticClass:"text-right"},[n("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"notas-debito-registrar"}}},[e._v("Registrar nota debito")])],1),e._v(" "),e.errorMessages.length?n("div",{staticClass:"mt-4"},[n("card-error-validation")],1):e._e(),e._v(" "),n("b-overlay",{attrs:{show:e.submitStatus,rounded:"sm"}},[n("b-card",{staticClass:"mt-4",attrs:{title:"Lista de facturas"}},[n("b-table",{attrs:{striped:"",hover:"",responsive:"",fields:e.fields,items:e.invoices},scopedSlots:e._u([{key:"cell(type_document_id)",fn:function(t){return[e._v("\n          "+e._s(e._f("typeDocument")(t.item.type_document_id))+"\n        ")]}},{key:"cell(actions)",fn:function(t){return[n("b-button",{attrs:{size:"xs",variant:"success"},on:{click:function(n){return e.modalConfirmEmitInvoice(t.item.id)}}},[e._v("\n            Emitir\n          ")]),e._v(" "),1==t.item.status?[n("a",{staticClass:"btn btn-outline-dark btn-xs",attrs:{href:"http://127.0.0.1:8000/storage/"+t.item.file,download:""}},[e._v("Descargar")])]:e._e()]}}])})],1)],1)],1)}),[],!1,null,"75f35cbd",null);t.default=l.exports}}]);